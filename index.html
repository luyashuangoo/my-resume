<DOCTYPE html>
	<html>

	<head>
		<title>我的简历</title>
		<link rel="stylesheet" href="./style.css">
		<link rel="stylesheet" href="./loading.css">
		<style type="text/css">
			.icon {
				width: 1em;
				height: 1em;
				vertical-align: -0.15em;
				fill: currentColor;
				overflow: hidden;
			}

			.site-welcome {
				display: none;
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: rgb(228, 228, 228);
				z-index: 1;
				justify-content: center;
				align-items: center;
			}

			.site-welcome.active {
				display: flex;
			}
		</style>
		<script src="//at.alicdn.com/t/font_673796_7627lk6lgvwy7gb9.js"></script>
	</head>

	<body>
		<div id="siteWelcome" class="site-welcome active">
			<div class="loading"></div>
		</div>
		<div id="topNavBar" class="topNavBar">
			<div class="topNavBar-inner clearfix">
				<a class="logo" href="#">
					<span class="rs">RS</span>
					<span class="card">card</span>
				</a>
				<nav class="nav menu">
					<ul>
						<li class="nav1">
							<a href="">其他</a>
						</li>
						<li class="nav2">
							<a href="">联系方式</a>
						</li>
						<li class="nav3">
							<a href="">经历</a>
						</li>
						<li class="nav4">
							<a href="#sitaWorks">作品</a>
							<ul class="submenu">
								<li>作品1</li>
								<li>作品2</li>
								<li>作品3</li>
							</ul>
						</li>
						<li class="nav5">
							<a href="">博客</a>
							<ul class="submenu">
								<li>博客1</li>
								<li>博客2</li>
								<li>博客3</li>
							</ul>
						</li>
						<li class="nav6">
							<a href="#siteSkills">技能</a>
						</li>
						<li class="nav7">
							<a href="#userCard">简介</a>
						</li>
					</ul>
				</nav>
			</div>
		</div>
		<div class="banner" style="background-image: url(./img/banner.png)">
			<div class="banner mask"></div>
		</div>
		<main>
			<div data-x id="userCard" class="userCard">
				<div class="pictureAndText clearfix">
					<div class="picture">
						<img src="./img/avatar.png" width="299px" height="322px" alt="头像">
					</div>
					<div class="text">
						<span class="welcome">hello
							<span class="triangle"></span>
						</span>

						<h1>鲁亚霜</h1>
						<p>前端开发工程师</p>

						<hr>

						<dl>
							<dt>年龄</dt>
							<dd>23</dd>
							<dt>地址</dt>
							<dd>成都市双流区中德英伦联邦</dd>
							<dt>E-mail</dt>
							<dd>luyashuang123456@gmail.com</dd>
							<dt>联系电话</dt>
							<dd>18782381234</dd>
						</dl>
					</div>
				</div>
				<footer class="media">
					<a href="#" class="method1">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-github"></use>
						</svg>
					</a>
					<a href="" class="method2">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-wechat"></use>
						</svg>
					</a>
					<a href="" class="method3">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-zhihu"></use>
						</svg>
					</a>
					<a href="" class="method4">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-weibo"></use>
						</svg>
				</footer>
			</div>
			<p class="downloadResume-wrapper">
				<a class="downloadResume" href="#" target="_blank" download="my-resume.pdf">中文简历下载</a>
			</p>
			<p class="selfIntroduction">
				为什么说这是一个友尽游戏呢？因为玩家经常会死于不明爆炸和突然被打掉的地板，而这些很多都是官方用心险恶的设计，然后被玩家在一通乱打中触发。通常都是冲在前面的人触发了陷阱害死了后面的人。我叫鲁亚霜，来自绵阳，一个渴望技术不断进步的女孩。除了美，就是学。
			</p>
		</main>
		<section data-x id="siteSkills" class="skills clearfix">
			<h2>技能</h2>
			<ol class="skillsList clearfix">
				<li>
					<h3>html &amp; css</h3>
					<div class="progressBar">
						<div class="progress" style="width:80%;"></div>
					</div>
				</li>
				<li>
					<h3>JavaScript</h3>
					<div class="progressBar">
						<div class="progress" style="width:60%;"></div>
					</div>
				</li>
				<li>
					<h3>jQuery</h3>
					<div class="progressBar">
						<div class="progress" style="width:50%;"></div>
					</div>
				</li>
				<li>
					<h3>vue.js</h3>
					<div class="progressBar">
						<div class="progress" style="width:65%;"></div>
					</div>
				</li>
				<li>
					<h3>react.js</h3>
					<div class="progressBar">
						<div class="progress" style="width:34%;"></div>
					</div>
				</li>
				<li>
					<h3>node.js</h3>
					<div class="progressBar">
						<div class="progress" style="width:23%;"></div>
					</div>
				</li>
			</ol>
		</section>
		<section data-x id="siteWorks" class="portflio">
			<h2>作品集</h2>
			<nav class="portflioCate">
				<ol class="clearfix">
					<li id="portflio1">所有</li>
					<li id="portflio2">框架</li>
					<li id="portflio3">原生JS</li>

				</ol>
				<div id="portflioBar" class="bar stutas-1">
					<div class="bar-inner"></div>
				</div>
			</nav>
			<script>
				portflio1.onclick = function () {
					portflioBar.className = "bar stutas-1"
				}
				portflio2.onclick = function () {
					portflioBar.className = "bar stutas-2"
				}
				portflio3.onclick = function () {
					portflioBar.className = "bar stutas-3"
				}
			</script>
			<div class="works">
				<div class="big">
					<img src="./img/big.jpg" alt="works-1">
				</div>
				<div class="small" style="top:0px; left:644px">
					<img src="./img/small1.jpg" alt="works-2">
				</div>
				<div class="small" style="top:298px;left:644px">
					<img src="./img/small2.jpg" alt="works-3">
				</div>
			</div>
		</section>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.2.0/Tween.min.js"></script>
		<script>
			setTimeout(function () {
				siteWelcome.classList.remove('active')
			}, 1000)
			window.onscroll = function (x) {
				if (window.scrollY > 0) {
					topNavBar.classList.add('sticky')
				} else {
					topNavBar.classList.remove('sticky')
				}
			}

			console.log('获得的Y' + window.scrollY)

			let specialTags = document.querySelectorAll('[data-x]')
			let minIndex = 0
			for (let i = 0; i < specialTags.length; i++) {
				if (Math.abs(specialTags[i].offsetTop - window.scrollY) < Math.abs(specialTags[minIndex].offsetTop - window.scrollY)) {
					minIndex = i
				}
				for (let i = 0; i < specialTags.length; i++) {
					specialTags[i].classList.remove('active')
				}
				specialTags[minIndex].classList.add('active')
				let id = specialTags[minIndex].id
				console.log(id)
			}

			let liTags = document.querySelectorAll('nav.menu > ul > li')
			for (let i = 0; i < liTags.length; i++) {
				liTags[i].onmouseenter = function (x) {
					x.currentTarget.classList.add('active')
				}
				liTags[i].onmouseleave = function (x) {
					x.currentTarget.classList.remove('active')
				}
			}

			let aTags = document.querySelectorAll('nav.menu > ul > li > a')
			function animate(time) {
				requestAnimationFrame(animate);
				TWEEN.update(time);
			}
			requestAnimationFrame(animate);

			for (let i = 0; i < aTags.length; i++) {
				aTags[i].onclick = function (x) {
					x.preventDefault()
					let a = x.currentTarget
					let href = a.getAttribute('href') //'#siteAbout'
					let element = document.querySelector(href)
					console.log(element)
					let top = element.offsetTop

					var currentTop = window.scrollY
					var targetTop = top - 80
					var s = targetTop - currentTop
					var coords = { y: currentTop };
					var t = Math.abs((s / 100) * 300)
					if (t > 500) { t = 500 }
					var tween = new TWEEN.Tween(coords)
						.to({ y: targetTop }, t)
						.easing(TWEEN.Easing.Quadratic.InOut)
						.onUpdate(function () {
							window.scrollTo(0, coords.y);
						})
						.start();
				}
			} 
		</script>
	</body>

	</html>